<% @responses.each do |response| %>
  <div class="response">
    
    <%= 
      if response.user.picture?
        link_to user_path(response.user) do
          image_tag response.user.picture, width: 45, alt: 'user avatar'
        end
      else
        link_to user_path(response.user) do
          image_tag 'default_avatar.jpg', width: 45, alt: 'default user avatar'
        end
      end
    %>          

    <div class="response-content"><%= markdown response.content %></div>
    <div class="date">Posted <%= time_ago_in_words(response.created_at) %> ago by <%= link_to response.user.username, user_path(response.user) %>
    
      <% if (user_signed_in? && (current_user.id == response.user_id)) %>
        <div class="responses-alter">
          <%= link_to edit_group_post_response_path(@group, @post, response) do %><i class="fa fa-pencil"></i><% end %> &nbsp;&nbsp;
          <%= link_to group_post_response_path(@group, @post, response), method: :delete, data: { confirm: "Are you sure?" } do %><i class="fa fa-trash"></i><% end %>
        </div>
      <% end %>
    
        <%= link_to like_group_post_response_path(@group, @post, response), method: :put do %><i class="fa fa-chevron-up"></i><% end %>&nbsp;<%= response.get_upvotes.size %>&nbsp;&nbsp;
        <%= link_to dislike_group_post_response_path(@group, @post, response), method: :put do %><i class="fa fa-chevron-down"></i><% end %>&nbsp;<%= response.get_downvotes.size %>
    
    </div>

  </div>
<% end %>